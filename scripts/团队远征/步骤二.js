/* ==================
 脚本类型: NPC	    
 脚本作者：TTL哈撒给   
 联系方式qq：111111111111
 =====================
 */
var 小烟花 = "#fMap/MapHelper/weather/squib/squib4/1#";
var 红树 = "#fMap/MapHelper/weather/tree/4#"; //气球
var 粉爱心 = "#fItem/Etc/0427/04270005/Icon8/1#";
var 小天使 = "#fItem/Cash/0501/05010006/effect/default/2#";
var aaa = "#fUI/UIWindow.img/Quest/icon9/0#";//红色右箭头
var 开 = "#fUI/Basic/CheckBox/0#";   //有框框 无√
var 关 = "#fUI/Basic/CheckBox/1#";   //有框框 有√
var 躺熊 = "#fItem/Cash/0502/05021008/info/iconRaw#";
var 红色小图片 = "#fUI/UIWindow.img/Item/BtSort/mouseOver/0#";//红色小图片
var 圆形 = "#fUI/UIWindow/Quest/icon3/6#";
var 金币图 = "#fUI/UIWindow/QuestIcon/7/0#";

// boss配置
var boss_CONFIG = {
    "闹钟": {
        bossId: 8920000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "Clockboss",
        远征队名称: "ClockSquad",
        挑战地图: 220080001,
        难度要求: 1  // 需要的团队boss难度值
    },
    "扎昆": {
        bossId: 8920000,
        最低等级: 100,
        限制次数: 100,
        事件名称: "ChaosZakum",
        远征队名称: "ChaosZak",
        挑战地图: 280030001,
        难度要求: 2
    },
    "黑龙": {
        bossId: 8920000,
        最低等级: 120,
        限制次数: 3,
        事件名称: "HorntailBattle",
        远征队名称: "Horntail",
        挑战地图: 240060200,
        难度要求: 3
    },
    "boss-4": {
        bossId: 8920000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss4",
        远征队名称: "boss4Squad",
        挑战地图: 100000000,
        难度要求: 4
    },
    "boss-5": {
        bossId: 8920000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss5",
        远征队名称: "boss5Squad",
        挑战地图: 100000000,
        难度要求: 5
    },
    "boss-6": {
        bossId: 8920000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss6",
        远征队名称: "boss6Squad",
        挑战地图: 100000000,
        难度要求: 6
    },
    "boss-7": {
        bossId: 8920000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss7",
        远征队名称: "boss7Squad",
        挑战地图: 910000001,
        难度要求: 7
    },
    "boss-8": {
        bossId: 8910000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss8",
        远征队名称: "boss8Squad",
        挑战地图: 910000002,
        难度要求: 8
    },
    "boss-9": {
        bossId: 8900000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss9",
        远征队名称: "boss9Squad",
        挑战地图: 910000003,
        难度要求: 9
    },
    "boss-10": {
        bossId: 8860000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss10",
        远征队名称: "boss10Squad",
        挑战地图: 910000004,
        难度要求: 10
    },
    "boss-11": {
        bossId: 8880000,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss11",
        远征队名称: "boss11Squad",
        挑战地图: 910000005,
        难度要求: 11  // 确保是数字而不是字符串
    },
    "boss-12": {
        bossId: 8645009,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss12",
        远征队名称: "boss12Squad",
        挑战地图: 910000006,
        难度要求: 12
    },
    "boss-13": {
        bossId: 8880140,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss13",
        远征队名称: "boss13Squad",
        挑战地图: 910000007,
        难度要求: 13
    },
    "boss-14": {
        bossId: 8240098,
        最低等级: 100,
        限制次数: 4,
        事件名称: "boss14",
        远征队名称: "boss14Squad",
        挑战地图: 910000008,
        难度要求: 14
    }
};

var 奖励数据 = [
    [
        [
            1,
            [
                4000487,
                2.86
            ],
            [
                4500034,
                8.59
            ],
            [
                4443300,
                0.37
            ],
            [
                4500816,
                1.1
            ],
            [
                4442300,
                0.37
            ],
            [
                4500616,
                1.1
            ],
            [
                4001083,
                0.59
            ],
            [
                4500019,
                1.76
            ]
        ],
        [
            3,
            [
                4000487,
                1.91
            ],
            [
                4500034,
                5.73
            ],
            [
                4443300,
                0.29
            ],
            [
                4500816,
                0.88
            ],
            [
                4442300,
                0.29
            ],
            [
                4500616,
                0.88
            ],
            [
                4001083,
                0.35
            ],
            [
                4500019,
                1.06
            ]
        ],
        [
            6,
            [
                4000487,
                0.95
            ],
            [
                4500034,
                2.86
            ],
            [
                4443300,
                0.22
            ],
            [
                4500816,
                0.66
            ],
            [
                4442300,
                0.22
            ],
            [
                4500616,
                0.66
            ],
            [
                4001083,
                0.24
            ],
            [
                4500019,
                0.71
            ]
        ],
        [
            10,
            [
                4000487,
                0.48
            ],
            [
                4500034,
                1.43
            ],
            [
                4443300,
                0.18
            ],
            [
                4500816,
                0.55
            ],
            [
                4442300,
                0.18
            ],
            [
                4500616,
                0.55
            ],
            [
                4001083,
                0.12
            ],
            [
                4500019,
                0.35
            ]
        ],
        [
            11,
            [
                4000487,
                0.29
            ],
            [
                4500034,
                0.86
            ],
            [
                4443300,
                0.15
            ],
            [
                4500816,
                0.44
            ],
            [
                4442300,
                0.15
            ],
            [
                4500616,
                0.44
            ],
            [
                4001083,
                0.06
            ],
            [
                4500019,
                0.18
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                3.75
            ],
            [
                4500034,
                11.25
            ],
            [
                4443300,
                0.48
            ],
            [
                4500816,
                1.45
            ],
            [
                4442300,
                0.48
            ],
            [
                4500616,
                1.45
            ],
            [
                4001084,
                0.77
            ],
            [
                4500020,
                2.31
            ]
        ],
        [
            3,
            [
                4000487,
                2.5
            ],
            [
                4500034,
                7.5
            ],
            [
                4443300,
                0.39
            ],
            [
                4500816,
                1.16
            ],
            [
                4442300,
                0.39
            ],
            [
                4500616,
                1.16
            ],
            [
                4001084,
                0.46
            ],
            [
                4500020,
                1.39
            ]
        ],
        [
            6,
            [
                4000487,
                1.25
            ],
            [
                4500034,
                3.75
            ],
            [
                4443300,
                0.29
            ],
            [
                4500816,
                0.87
            ],
            [
                4442300,
                0.29
            ],
            [
                4500616,
                0.87
            ],
            [
                4001084,
                0.31
            ],
            [
                4500020,
                0.92
            ]
        ],
        [
            10,
            [
                4000487,
                0.63
            ],
            [
                4500034,
                1.88
            ],
            [
                4443300,
                0.24
            ],
            [
                4500816,
                0.72
            ],
            [
                4442300,
                0.24
            ],
            [
                4500616,
                0.72
            ],
            [
                4001084,
                0.15
            ],
            [
                4500020,
                0.46
            ]
        ],
        [
            11,
            [
                4000487,
                0.38
            ],
            [
                4500034,
                1.13
            ],
            [
                4443300,
                0.19
            ],
            [
                4500816,
                0.58
            ],
            [
                4442300,
                0.19
            ],
            [
                4500616,
                0.58
            ],
            [
                4001084,
                0.08
            ],
            [
                4500020,
                0.23
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                5.48
            ],
            [
                4500034,
                16.45
            ],
            [
                4500802,
                0.47
            ],
            [
                4500817,
                1.41
            ],
            [
                4500602,
                0.47
            ],
            [
                4500617,
                1.41
            ],
            [
                4001085,
                1.34
            ],
            [
                4500021,
                4.03
            ]
        ],
        [
            3,
            [
                4000487,
                3.66
            ],
            [
                4500034,
                10.97
            ],
            [
                4500802,
                0.38
            ],
            [
                4500817,
                1.13
            ],
            [
                4500602,
                0.38
            ],
            [
                4500617,
                1.13
            ],
            [
                4001085,
                0.81
            ],
            [
                4500021,
                2.42
            ]
        ],
        [
            6,
            [
                4000487,
                1.83
            ],
            [
                4500034,
                5.48
            ],
            [
                4500802,
                0.28
            ],
            [
                4500817,
                0.84
            ],
            [
                4500602,
                0.28
            ],
            [
                4500617,
                0.84
            ],
            [
                4001085,
                0.54
            ],
            [
                4500021,
                1.61
            ]
        ],
        [
            10,
            [
                4000487,
                0.91
            ],
            [
                4500034,
                2.74
            ],
            [
                4500802,
                0.23
            ],
            [
                4500817,
                0.7
            ],
            [
                4500602,
                0.23
            ],
            [
                4500617,
                0.7
            ],
            [
                4001085,
                0.27
            ],
            [
                4500021,
                0.81
            ]
        ],
        [
            11,
            [
                4000487,
                0.55
            ],
            [
                4500034,
                1.65
            ],
            [
                4500802,
                0.19
            ],
            [
                4500817,
                0.56
            ],
            [
                4500602,
                0.19
            ],
            [
                4500617,
                0.56
            ],
            [
                4001085,
                0.14
            ],
            [
                4500021,
                0.4
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                5.74
            ],
            [
                4500034,
                17.21
            ],
            [
                4500803,
                0.47
            ],
            [
                4500818,
                1.41
            ],
            [
                4500603,
                0.47
            ],
            [
                4500618,
                1.41
            ],
            [
                4500006,
                1.38
            ],
            [
                4500022,
                4.14
            ]
        ],
        [
            3,
            [
                4000487,
                3.83
            ],
            [
                4500034,
                11.48
            ],
            [
                4500803,
                0.38
            ],
            [
                4500818,
                1.13
            ],
            [
                4500603,
                0.38
            ],
            [
                4500618,
                1.13
            ],
            [
                4500006,
                0.83
            ],
            [
                4500022,
                2.48
            ]
        ],
        [
            6,
            [
                4000487,
                1.91
            ],
            [
                4500034,
                5.74
            ],
            [
                4500803,
                0.28
            ],
            [
                4500818,
                0.84
            ],
            [
                4500603,
                0.28
            ],
            [
                4500618,
                0.84
            ],
            [
                4500006,
                0.55
            ],
            [
                4500022,
                1.66
            ]
        ],
        [
            10,
            [
                4000487,
                0.96
            ],
            [
                4500034,
                2.87
            ],
            [
                4500803,
                0.23
            ],
            [
                4500818,
                0.7
            ],
            [
                4500603,
                0.23
            ],
            [
                4500618,
                0.7
            ],
            [
                4500006,
                0.28
            ],
            [
                4500022,
                0.83
            ]
        ],
        [
            11,
            [
                4000487,
                0.57
            ],
            [
                4500034,
                1.72
            ],
            [
                4500803,
                0.19
            ],
            [
                4500818,
                0.56
            ],
            [
                4500603,
                0.19
            ],
            [
                4500618,
                0.56
            ],
            [
                4500006,
                0.14
            ],
            [
                4500022,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                6.03
            ],
            [
                4500034,
                18.09
            ],
            [
                4500804,
                0.46
            ],
            [
                4500819,
                1.38
            ],
            [
                4500604,
                0.46
            ],
            [
                4500619,
                1.38
            ],
            [
                4500007,
                1.35
            ],
            [
                4500023,
                4.05
            ]
        ],
        [
            3,
            [
                4000487,
                4.02
            ],
            [
                4500034,
                12.06
            ],
            [
                4500804,
                0.37
            ],
            [
                4500819,
                1.1
            ],
            [
                4500604,
                0.37
            ],
            [
                4500619,
                1.1
            ],
            [
                4500007,
                0.81
            ],
            [
                4500023,
                2.43
            ]
        ],
        [
            6,
            [
                4000487,
                2.01
            ],
            [
                4500034,
                6.03
            ],
            [
                4500804,
                0.28
            ],
            [
                4500819,
                0.83
            ],
            [
                4500604,
                0.28
            ],
            [
                4500619,
                0.83
            ],
            [
                4500007,
                0.54
            ],
            [
                4500023,
                1.62
            ]
        ],
        [
            10,
            [
                4000487,
                1.01
            ],
            [
                4500034,
                3.02
            ],
            [
                4500804,
                0.23
            ],
            [
                4500819,
                0.69
            ],
            [
                4500604,
                0.23
            ],
            [
                4500619,
                0.69
            ],
            [
                4500007,
                0.27
            ],
            [
                4500023,
                0.81
            ]
        ],
        [
            11,
            [
                4000487,
                0.6
            ],
            [
                4500034,
                1.81
            ],
            [
                4500804,
                0.18
            ],
            [
                4500819,
                0.55
            ],
            [
                4500604,
                0.18
            ],
            [
                4500619,
                0.55
            ],
            [
                4500007,
                0.14
            ],
            [
                4500023,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                6.33
            ],
            [
                4500034,
                18.99
            ],
            [
                4500805,
                0.46
            ],
            [
                4500820,
                1.41
            ],
            [
                4500605,
                0.46
            ],
            [
                4500620,
                1.41
            ],
            [
                4500008,
                1.37
            ],
            [
                4500024,
                4.12
            ]
        ],
        [
            3,
            [
                4000487,
                4.22
            ],
            [
                4500034,
                12.66
            ],
            [
                4500805,
                0.37
            ],
            [
                4500820,
                1.1
            ],
            [
                4500605,
                0.37
            ],
            [
                4500620,
                1.1
            ],
            [
                4500008,
                0.82
            ],
            [
                4500024,
                2.47
            ]
        ],
        [
            6,
            [
                4000487,
                2.11
            ],
            [
                4500034,
                6.33
            ],
            [
                4500805,
                0.28
            ],
            [
                4500820,
                0.84
            ],
            [
                4500605,
                0.28
            ],
            [
                4500620,
                0.84
            ],
            [
                4500008,
                0.55
            ],
            [
                4500024,
                1.65
            ]
        ],
        [
            10,
            [
                4000487,
                1.06
            ],
            [
                4500034,
                3.17
            ],
            [
                4500805,
                0.23
            ],
            [
                4500820,
                0.7
            ],
            [
                4500605,
                0.23
            ],
            [
                4500620,
                0.7
            ],
            [
                4500008,
                0.27
            ],
            [
                4500024,
                0.82
            ]
        ],
        [
            11,
            [
                4000487,
                0.63
            ],
            [
                4500034,
                1.9
            ],
            [
                4500805,
                0.19
            ],
            [
                4500820,
                0.56
            ],
            [
                4500605,
                0.19
            ],
            [
                4500620,
                0.56
            ],
            [
                4500008,
                0.14
            ],
            [
                4500024,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                6.65
            ],
            [
                4500034,
                19.95
            ],
            [
                4500806,
                0.47
            ],
            [
                4500821,
                1.41
            ],
            [
                4500606,
                0.47
            ],
            [
                4500621,
                1.41
            ],
            [
                4500009,
                1.35
            ],
            [
                4500025,
                4.06
            ]
        ],
        [
            3,
            [
                4000487,
                4.43
            ],
            [
                4500034,
                13.3
            ],
            [
                4500806,
                0.38
            ],
            [
                4500821,
                1.13
            ],
            [
                4500606,
                0.38
            ],
            [
                4500621,
                1.13
            ],
            [
                4500009,
                0.81
            ],
            [
                4500025,
                2.44
            ]
        ],
        [
            6,
            [
                4000487,
                2.22
            ],
            [
                4500034,
                6.65
            ],
            [
                4500806,
                0.28
            ],
            [
                4500821,
                0.84
            ],
            [
                4500606,
                0.28
            ],
            [
                4500621,
                0.84
            ],
            [
                4500009,
                0.54
            ],
            [
                4500025,
                1.63
            ]
        ],
        [
            10,
            [
                4000487,
                1.11
            ],
            [
                4500034,
                3.32
            ],
            [
                4500806,
                0.23
            ],
            [
                4500821,
                0.7
            ],
            [
                4500606,
                0.23
            ],
            [
                4500621,
                0.7
            ],
            [
                4500009,
                0.27
            ],
            [
                4500025,
                0.81
            ]
        ],
        [
            11,
            [
                4000487,
                0.66
            ],
            [
                4500034,
                1.99
            ],
            [
                4500806,
                0.19
            ],
            [
                4500821,
                0.56
            ],
            [
                4500606,
                0.19
            ],
            [
                4500621,
                0.56
            ],
            [
                4500009,
                0.14
            ],
            [
                4500025,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                6.99
            ],
            [
                4500034,
                20.96
            ],
            [
                4500807,
                0.47
            ],
            [
                4500822,
                1.41
            ],
            [
                4500607,
                0.47
            ],
            [
                4500622,
                1.41
            ],
            [
                4500010,
                1.37
            ],
            [
                4500026,
                4.11
            ]
        ],
        [
            3,
            [
                4000487,
                4.66
            ],
            [
                4500034,
                13.97
            ],
            [
                4500807,
                0.38
            ],
            [
                4500822,
                1.13
            ],
            [
                4500607,
                0.38
            ],
            [
                4500622,
                1.13
            ],
            [
                4500010,
                0.82
            ],
            [
                4500026,
                2.47
            ]
        ],
        [
            6,
            [
                4000487,
                2.33
            ],
            [
                4500034,
                6.99
            ],
            [
                4500807,
                0.28
            ],
            [
                4500822,
                0.84
            ],
            [
                4500607,
                0.28
            ],
            [
                4500622,
                0.84
            ],
            [
                4500010,
                0.55
            ],
            [
                4500026,
                1.65
            ]
        ],
        [
            10,
            [
                4000487,
                1.16
            ],
            [
                4500034,
                3.49
            ],
            [
                4500807,
                0.23
            ],
            [
                4500822,
                0.7
            ],
            [
                4500607,
                0.23
            ],
            [
                4500622,
                0.7
            ],
            [
                4500010,
                0.27
            ],
            [
                4500026,
                0.82
            ]
        ],
        [
            11,
            [
                4000487,
                0.7
            ],
            [
                4500034,
                2.1
            ],
            [
                4500807,
                0.19
            ],
            [
                4500822,
                0.56
            ],
            [
                4500607,
                0.19
            ],
            [
                4500622,
                0.56
            ],
            [
                4500010,
                0.14
            ],
            [
                4500026,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                7.32
            ],
            [
                4500034,
                21.97
            ],
            [
                4500808,
                0.47
            ],
            [
                4500823,
                1.41
            ],
            [
                4500608,
                0.47
            ],
            [
                4500623,
                1.41
            ],
            [
                4500011,
                1.36
            ],
            [
                4500027,
                4.07
            ]
        ],
        [
            3,
            [
                4000487,
                4.88
            ],
            [
                4500034,
                14.65
            ],
            [
                4500808,
                0.38
            ],
            [
                4500823,
                1.13
            ],
            [
                4500608,
                0.38
            ],
            [
                4500623,
                1.13
            ],
            [
                4500011,
                0.81
            ],
            [
                4500027,
                2.44
            ]
        ],
        [
            6,
            [
                4000487,
                2.44
            ],
            [
                4500034,
                7.32
            ],
            [
                4500808,
                0.28
            ],
            [
                4500823,
                0.84
            ],
            [
                4500608,
                0.28
            ],
            [
                4500623,
                0.84
            ],
            [
                4500011,
                0.54
            ],
            [
                4500027,
                1.63
            ]
        ],
        [
            10,
            [
                4000487,
                1.22
            ],
            [
                4500034,
                3.66
            ],
            [
                4500808,
                0.23
            ],
            [
                4500823,
                0.7
            ],
            [
                4500608,
                0.23
            ],
            [
                4500623,
                0.7
            ],
            [
                4500011,
                0.27
            ],
            [
                4500027,
                0.81
            ]
        ],
        [
            11,
            [
                4000487,
                0.73
            ],
            [
                4500034,
                2.2
            ],
            [
                4500808,
                0.19
            ],
            [
                4500823,
                0.56
            ],
            [
                4500608,
                0.19
            ],
            [
                4500623,
                0.56
            ],
            [
                4500011,
                0.14
            ],
            [
                4500027,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                7.7
            ],
            [
                4500034,
                23.09
            ],
            [
                4500809,
                0.47
            ],
            [
                4500824,
                1.4
            ],
            [
                4500609,
                0.47
            ],
            [
                4500624,
                1.4
            ],
            [
                4500012,
                1.37
            ],
            [
                4500028,
                4.11
            ]
        ],
        [
            3,
            [
                4000487,
                5.13
            ],
            [
                4500034,
                15.39
            ],
            [
                4500809,
                0.37
            ],
            [
                4500824,
                1.12
            ],
            [
                4500609,
                0.37
            ],
            [
                4500624,
                1.12
            ],
            [
                4500012,
                0.82
            ],
            [
                4500028,
                2.46
            ]
        ],
        [
            6,
            [
                4000487,
                2.57
            ],
            [
                4500034,
                7.7
            ],
            [
                4500809,
                0.28
            ],
            [
                4500824,
                0.84
            ],
            [
                4500609,
                0.28
            ],
            [
                4500624,
                0.84
            ],
            [
                4500012,
                0.55
            ],
            [
                4500028,
                1.64
            ]
        ],
        [
            10,
            [
                4000487,
                1.28
            ],
            [
                4500034,
                3.85
            ],
            [
                4500809,
                0.23
            ],
            [
                4500824,
                0.7
            ],
            [
                4500609,
                0.23
            ],
            [
                4500624,
                0.7
            ],
            [
                4500012,
                0.27
            ],
            [
                4500028,
                0.82
            ]
        ],
        [
            11,
            [
                4000487,
                0.77
            ],
            [
                4500034,
                2.31
            ],
            [
                4500809,
                0.19
            ],
            [
                4500824,
                0.56
            ],
            [
                4500609,
                0.19
            ],
            [
                4500624,
                0.56
            ],
            [
                4500012,
                0.14
            ],
            [
                4500028,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                8.08
            ],
            [
                4500034,
                24.25
            ],
            [
                4500810,
                0.47
            ],
            [
                4500825,
                1.4
            ],
            [
                4500610,
                0.47
            ],
            [
                4500625,
                1.4
            ],
            [
                4500013,
                1.36
            ],
            [
                4500029,
                4.08
            ]
        ],
        [
            3,
            [
                4000487,
                5.39
            ],
            [
                4500034,
                16.16
            ],
            [
                4500810,
                0.37
            ],
            [
                4500825,
                1.12
            ],
            [
                4500610,
                0.37
            ],
            [
                4500625,
                1.12
            ],
            [
                4500013,
                0.82
            ],
            [
                4500029,
                2.45
            ]
        ],
        [
            6,
            [
                4000487,
                2.69
            ],
            [
                4500034,
                8.08
            ],
            [
                4500810,
                0.28
            ],
            [
                4500825,
                0.84
            ],
            [
                4500610,
                0.28
            ],
            [
                4500625,
                0.84
            ],
            [
                4500013,
                0.55
            ],
            [
                4500029,
                1.63
            ]
        ],
        [
            10,
            [
                4000487,
                1.35
            ],
            [
                4500034,
                4.04
            ],
            [
                4500810,
                0.23
            ],
            [
                4500825,
                0.7
            ],
            [
                4500610,
                0.23
            ],
            [
                4500625,
                0.7
            ],
            [
                4500013,
                0.27
            ],
            [
                4500029,
                0.82
            ]
        ],
        [
            11,
            [
                4000487,
                0.81
            ],
            [
                4500034,
                2.42
            ],
            [
                4500810,
                0.19
            ],
            [
                4500825,
                0.56
            ],
            [
                4500610,
                0.19
            ],
            [
                4500625,
                0.56
            ],
            [
                4500013,
                0.14
            ],
            [
                4500029,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                8.49
            ],
            [
                4500034,
                25.46
            ],
            [
                4500811,
                0.47
            ],
            [
                4500826,
                1.4
            ],
            [
                4500611,
                0.47
            ],
            [
                4500626,
                1.4
            ],
            [
                4500014,
                1.37
            ],
            [
                4500030,
                4.1
            ]
        ],
        [
            3,
            [
                4000487,
                5.66
            ],
            [
                4500034,
                16.97
            ],
            [
                4500811,
                0.38
            ],
            [
                4500826,
                1.12
            ],
            [
                4500611,
                0.38
            ],
            [
                4500626,
                1.12
            ],
            [
                4500014,
                0.82
            ],
            [
                4500030,
                2.46
            ]
        ],
        [
            6,
            [
                4000487,
                2.83
            ],
            [
                4500034,
                8.49
            ],
            [
                4500811,
                0.28
            ],
            [
                4500826,
                0.84
            ],
            [
                4500611,
                0.28
            ],
            [
                4500626,
                0.84
            ],
            [
                4500014,
                0.55
            ],
            [
                4500030,
                1.64
            ]
        ],
        [
            10,
            [
                4000487,
                1.41
            ],
            [
                4500034,
                4.24
            ],
            [
                4500811,
                0.23
            ],
            [
                4500826,
                0.7
            ],
            [
                4500611,
                0.23
            ],
            [
                4500626,
                0.7
            ],
            [
                4500014,
                0.27
            ],
            [
                4500030,
                0.82
            ]
        ],
        [
            11,
            [
                4000487,
                0.85
            ],
            [
                4500034,
                2.55
            ],
            [
                4500811,
                0.19
            ],
            [
                4500826,
                0.56
            ],
            [
                4500611,
                0.19
            ],
            [
                4500626,
                0.56
            ],
            [
                4500014,
                0.14
            ],
            [
                4500030,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                8.91
            ],
            [
                4500034,
                26.73
            ],
            [
                4500812,
                0.47
            ],
            [
                4500827,
                1.41
            ],
            [
                4500612,
                0.47
            ],
            [
                4500627,
                1.41
            ],
            [
                4500015,
                1.36
            ],
            [
                4500031,
                4.08
            ]
        ],
        [
            3,
            [
                4000487,
                5.94
            ],
            [
                4500034,
                17.82
            ],
            [
                4500812,
                0.38
            ],
            [
                4500827,
                1.13
            ],
            [
                4500612,
                0.38
            ],
            [
                4500627,
                1.13
            ],
            [
                4500015,
                0.82
            ],
            [
                4500031,
                2.45
            ]
        ],
        [
            6,
            [
                4000487,
                2.97
            ],
            [
                4500034,
                8.91
            ],
            [
                4500812,
                0.28
            ],
            [
                4500827,
                0.84
            ],
            [
                4500612,
                0.28
            ],
            [
                4500627,
                0.84
            ],
            [
                4500015,
                0.54
            ],
            [
                4500031,
                1.63
            ]
        ],
        [
            10,
            [
                4000487,
                1.49
            ],
            [
                4500034,
                4.46
            ],
            [
                4500812,
                0.23
            ],
            [
                4500827,
                0.7
            ],
            [
                4500612,
                0.23
            ],
            [
                4500627,
                0.7
            ],
            [
                4500015,
                0.27
            ],
            [
                4500031,
                0.82
            ]
        ],
        [
            11,
            [
                4000487,
                0.89
            ],
            [
                4500034,
                2.67
            ],
            [
                4500812,
                0.19
            ],
            [
                4500827,
                0.56
            ],
            [
                4500612,
                0.19
            ],
            [
                4500627,
                0.56
            ],
            [
                4500015,
                0.14
            ],
            [
                4500031,
                0.41
            ]
        ]
    ],
    [
        [
            1,
            [
                4000487,
                9.35
            ],
            [
                4500034,
                28.06
            ],
            [
                4500813,
                0.47
            ],
            [
                4500828,
                1.41
            ],
            [
                4500613,
                0.47
            ],
            [
                4500628,
                1.41
            ],
            [
                4500016,
                1.37
            ],
            [
                4500032,
                4.1
            ]
        ],
        [
            3,
            [
                4000487,
                6.24
            ],
            [
                4500034,
                18.71
            ],
            [
                4500813,
                0.38
            ],
            [
                4500828,
                1.13
            ],
            [
                4500613,
                0.38
            ],
            [
                4500628,
                1.13
            ],
            [
                4500016,
                0.82
            ],
            [
                4500032,
                2.46
            ]
        ],
        [
            6,
            [
                4000487,
                3.12
            ],
            [
                4500034,
                9.35
            ],
            [
                4500813,
                0.28
            ],
            [
                4500828,
                0.84
            ],
            [
                4500613,
                0.28
            ],
            [
                4500628,
                0.84
            ],
            [
                4500016,
                0.55
            ],
            [
                4500032,
                1.64
            ]
        ],
        [
            10,
            [
                4000487,
                1.56
            ],
            [
                4500034,
                4.68
            ],
            [
                4500813,
                0.23
            ],
            [
                4500828,
                0.7
            ],
            [
                4500613,
                0.23
            ],
            [
                4500628,
                0.7
            ],
            [
                4500016,
                0.27
            ],
            [
                4500032,
                0.82
            ]
        ],
        [
            11,
            [
                4000487,
                0.94
            ],
            [
                4500034,
                2.81
            ],
            [
                4500813,
                0.19
            ],
            [
                4500828,
                0.56
            ],
            [
                4500613,
                0.19
            ],
            [
                4500628,
                0.56
            ],
            [
                4500016,
                0.14
            ],
            [
                4500032,
                0.41
            ]
        ]
    ]
];
var status;
var selectedboss = null;
var fbmc = null;
var bossLevel = 0;

function start() {
    status = -1;
    action(1, 0, 0);
}

function action(mode, type, selection) {
    if (mode == -1) {
        cm.dispose();
    } else {
        if (status >= 0 && mode == 0) {
            cm.sendOk("感谢你的光临！");
            cm.dispose();
            return;
        }
        if (mode == 1) {
            status++;
        } else {
            status--;
        }

        if (status == 0) {

            var bossLevel = parseInt(cm.getBossLog("团队BOSS难度"));
            var availableBosses = [];
            
            for (var bossName in boss_CONFIG) {
                if (parseInt(boss_CONFIG[bossName].难度要求) === bossLevel) {
                    availableBosses.push(bossName);
                }
            }
            if (selection < 0 || selection >= availableBosses.length) {
                cm.sendOk("选择无效，请重新选择。");
                cm.dispose();
                return;
            }

            selectedboss = boss_CONFIG[availableBosses[selection]];
            fbmc = availableBosses[selection];

            // 设置奖励数据
            var index = bossLevel; // 或根据实际逻辑获取
            if (index >= 0 && index < 奖励数据.length) {
                var emm = cm.getEventManager(selectedboss.事件名称);
                emm.setProperty("奖励数据", JSON.stringify(奖励数据[index-1]));
            }

            if (cm.getPlayer().getLevel() < selectedboss.最低等级) {
                cm.sendOk("你的等级尚未达到" + selectedboss.最低等级 + "级");
                cm.dispose();
                return;
            }
            if (cm.getBossLog(fbmc) >= selectedboss.限制次数) {
                cm.sendOk("很抱歉每天只能打" + selectedboss.限制次数 + "次..");
                cm.dispose();
                return;
            }
            if (cm.getPlayerCount(selectedboss.挑战地图) >= 1) {
                cm.sendOk("已经有队伍在里面挑战了。");
                cm.dispose();
                return;
            }

            var emm = cm.getEventManager(selectedboss.事件名称);
            if (emm == null) {
                cm.sendOk("事件不存在，请联系管理员。");
                cm.dispose();
                return;
            }

            var prop = emm.getProperty("state");
            var marr = cm.getQuestRecord(160102);
            var data = marr.getCustomData();
            if (data == null) {
                marr.setCustomData("0");
                data = "0";
            }
            if (prop == null || prop.equals("0")) {
                var squadAvailability = cm.getSquadAvailability(selectedboss.远征队名称);
                if (squadAvailability == -1) {
                    var text = "";
                    text += "你有兴趣成为远征队长吗?(今日挑战次数 [#r" + cm.getBossLog(fbmc) + "#k/" + selectedboss.限制次数 + "])?\r\n\r\n";
                    text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                    text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                    text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                    cm.sendYesNo(text);
                } else if (squadAvailability == 1) {
                    var type = cm.isSquadLeader(selectedboss.远征队名称);
                    if (type == -1) {
                        cm.sendOk("远征队已结束，请重新登记。");
                        cm.dispose();
                    } else if (type == 0) {
                        var memberType = cm.isSquadMember(selectedboss.远征队名称);
                        if (memberType == 2) {
                            cm.sendOk("你已经被远征队长踢出.");
                            cm.dispose();
                        } else if (memberType == 1) {
                            var text = "";
                            text += "你想做什么? \r\n";
                            text += "今日挑战次数 [#r" + cm.getBossLog(fbmc) + "#k/" + selectedboss.限制次数 + "]\r\n\r\n";
                            text += "#b#L0#查看成员#l\r\n";
                            text += "#b#L1#加入远征队#l\r\n";
                            text += "#b#L2#退出远征队#l\r\n";
                            text += "\r\n\r\n#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                            text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                            text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                            cm.sendSimple(text);
                        } else if (memberType == -1) {
                            cm.sendOk("远征队已结束，请重新登记。");
                            cm.dispose();
                        } else {
                            var text = "";
                            text += "你想做什么? \r\n";
                            text += "今日挑战次数 [#r" + cm.getBossLog(fbmc) + "#k/" + selectedboss.限制次数 + "]\r\n\r\n";
                            text += "#b#L0#查看成员#l\r\n";
                            text += "#b#L1#加入远征队#l\r\n";
                            text += "#b#L2#退出远征队#l\r\n";
                            text += "\r\n\r\n#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                            text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                            text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                            cm.sendSimple(text);
                        }
                    } else {
                        var text = "";
                        text += "你想做什么? \r\n";
                        text += "今日挑战次数 [#r" + cm.getBossLog(fbmc) + "#k/" + selectedboss.限制次数 + "]\r\n\r\n";
                        text += "#b#L4#查看成员#l\r\n";
                        text += "#r#L7#点击开始挑战#l\r\n";
                        text += "\r\n\r\n#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                        text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                        text += "#r#e创建 #k#n或者 #r#e加入 #b远征队即算挑战次数+1\r\n";
                        cm.sendSimple(text);
                    }
                } else {
                    var props = emm.getProperty("leader");
                    if (props != null && props.equals("true")) {
                        var eim = cm.getDisconnected(selectedboss.事件名称);
                        if (eim == null) {
                            cm.sendOk("远征队与BOSS的战斗已经开始。");
                            cm.dispose();
                        } else {
                            cm.sendOk("远征队与BOSS的战斗已经开始。");
                            cm.dispose();
                        }
                    } else {
                        cm.sendOk("很抱歉你的远征队队长离开了现场，所以你不能再返回战场。");
                        cm.dispose();
                    }
                }
            } else {
                var props = emm.getProperty("leader");
                if (props != null && props.equals("true")) {
                    var eimc = emm.getInstance(selectedboss.事件名称);
                    var propsc = eimc.getProperty("isSquadPlayerID_" + cm.getPlayer().getId());
                    var sayc = "\r\n" + (eimc == null ? "eimc is null" : propsc) + "\r\n";
                    if ((eimc != null) && (propsc != null) && propsc.equals("1")) {
                        status = 13;
                        sayc += "#b现在是否要重新返回远征队所在场地？";
                        sayc += "\r\n#r#L1#重新返回远征队所在场地#l";
                        cm.sendSimple(sayc);
                    } else {
                        cm.sendOk("远征队与BOSS的战斗已经开始。" + sayc);
                        cm.dispose();
                    }
                } else {
                    var eimd = emm.getInstance(selectedboss.事件名称);
                    var propsd = eimd.getProperty("isSquadPlayerID_" + cm.getPlayer().getId());
                    var sayd = "\r\n" + (eimd == null ? "eimd is null" : propsd) + "\r\n";
                    if ((eimd != null) && (propsd != null) && propsd.equals("1")) {
                        status = 13;
                        sayd += "#b现在是否要重新返回远征队所在场地？";
                        sayd += "\r\n#r#L1#重新返回远征队所在场地#l";
                        cm.sendSimple(sayd);
                    } else {
                        cm.sendOk("很抱歉你的远征队队长离开了现场，所以你不能再返回战场。");
                        cm.dispose();
                    }
                }
            }
        } else if (status == 1) {
            var squadAvailability = cm.getSquadAvailability(selectedboss.远征队名称);
            if (squadAvailability == -1) {
                if (mode == 1) {
                    if (cm.registerSquad(selectedboss.远征队名称, 5, " 被任命为远征队长，如果你想参加，请在规定时间内加入远征队。")) {
                        cm.setBossLog(fbmc);
                        cm.sendOk("你被任命为远征队长，接下来的5分钟你可以等待你的成员加入。");
                    } else {
                        cm.sendOk("添加远征队时发生错误。");
                    }
                    cm.dispose();
                    return;
                } else {
                    cm.sendOk("你放弃了成为远征队长。");
                    cm.dispose();
                    return;
                }
            }
            if (selection == 0) {
                if (!cm.getSquadList(远征队名称, 0)) {
                    cm.sendOk("由于未知错误，你加入远征队的请求被拒绝。");
                    cm.dispose();
                } else {
                    cm.dispose();
                }
            } else if (selection == 1) {
                var ba = cm.addMember(selectedboss.远征队名称, true);
                if (ba == 2) {
                    cm.sendOk("远征队已满员，请稍后再试。");
                } else if (ba == 1) {
                    cm.setBossLog(fbmc);
                    cm.sendOk("你已成功加入远征队。");
                } else {
                    cm.setBossLog(fbmc);
                    cm.sendOk("你已成功加入远征队。");
                }
                cm.dispose();
            } else if (selection == 2) {
                var baa = cm.addMember(selectedboss.远征队名称, false);
                if (baa == 1) {
                    cm.sendOk("你已成功从远征队中退出。");
                } else {
                    cm.sendOk("你不是远征队的一员。");
                }
                cm.dispose();
            } else if (selection == 4) {
                if (!cm.getSquadList(selectedboss.远征队名称, 0)) {
                    cm.sendOk("由于未知错误，无法查看远征队成员列表。");
                }
                status = -1;
                return;
            } else if (selection == 5) {
                status = 11;
                if (!cm.getSquadList(selectedboss.远征队名称, 1)) {
                    cm.sendOk("由于未知错误，你加入远征队的请求被拒绝。");
                    cm.safeDispose();
                }
            }

            else if (selection == 6) {
                status = 12;
                if (!cm.getSquadList(selectedboss.远征队名称, 2)) {
                    cm.sendOk("由于未知错误，你加入远征队的请求被拒绝。");
                    cm.safeDispose();
                }

            }
            else if (selection == 7) {
                if (!cm.isSquadLeader(selectedboss.远征队名称)) {
                    cm.sendOk("只有远征队长才能开始挑战！");
                    cm.dispose();
                    return;
                }
                if (cm.getSquad(selectedboss.远征队名称) != null) {
                    var dd = cm.getEventManager(selectedboss.事件名称);
                    dd.startInstance(cm.getSquad(selectedboss.远征队名称), cm.getMap());
                    cm.dispose();
                }
            } else if (selection == 8) {
                if (cm.registerSquad(selectedboss.远征队名称, 5, " 被任命为远征队长，如果你想参加，请在规定时间内加入远征队。")) {
                    cm.setBossLog(fbmc);
                    cm.sendOk("你被任命为远征队长，接下来的5分钟你可以等待你的成员加入。");
                    cm.dispose();
                } else {
                    cm.sendOk("添加远征队时发生错误。");
                    cm.dispose();
                }
            }
        } else if (status == 13) {
            var emh = cm.getEventManager(selectedboss.事件名称);
            if ((selection == 1) && (emh != null)) {
                var eim = emh.getInstance(selectedboss.事件名称);
                if ((eim != null) && (eim.getProperty("isSquadPlayerID_" + cm.getPlayer().getId()) != null)) {
                    eim.registerPlayer(cm.getPlayer());
                }
            }
            cm.dispose();
        }
    }
}

