var 星星 = "#fMap/MapHelper/weather/witch/3#";
var 彩虹 = "#fItem/Etc/0427/04270001/Icon9/0#";
/* ==================
脚本类型: NPC	    
脚本作者：TT111111   
联系方式qq：111111111111
=====================
*/
importPackage(java.util);
importPackage(Packages.client);
importPackage(Packages.server);
importPackage(Packages.tools);
importPackage(Packages.tools.packet);
importPackage(java.lang);
importPackage(Packages.server.quest);
importPackage(Packages.scripting);
importPackage(Packages.handling.channel);
importPackage(Packages.handling);
importPackage(Packages.handling.word);
importPackage(Packages.constants);
var status = 0;
var 感叹号 = "#fUI/UIWindow/Quest/icon0#";
var 美化new = "#fUI/UIWindow/Quest/icon5/1#";
var 圆形 = "#fUI/UIWindow/Quest/icon3/6#";
//var 蓝色角点 = "#fEffect/CharacterEff/1022223/4/0#";
var 蓝色角点 = "#fEffect/CharacterEff/1112915/0/0#";
var 红色箭头 = "#fUI/UIWindow/Quest/icon6/7#";
var 琴符 = "#fEffect/CharacterEff/1003252/0/0#";
var 音符 = "#fEffect/CharacterEff/1032063/0/0#";
var 花 = "#fUI/UIWindow.img/AriantMatch/characterIcon/0#";
var s = "#fUI/StatusBar/BtClaim/normal/0#";
var h = "#fUI/CashShop/CSEffect/effect/1#";
//var 小雪花 = "#fEffect/CharacterEff/1003393/0/0#";
var 花蘑菇 = "#fItem/Pet/5000046/change/1#";
var 萝卜 = "#fItem/Pet/5000048/angry/0#";
var 蓝色角点 = "#fUI/UIWindow.img/PvP/Scroll/enabled/next2#";
var 心 = "#fUI/GuildMark.img/Mark/Etc/00009001/14#";
var 爱心 = "#fEffect/CharacterEff/1022223/4/0#";
var 礼包物品 = "#v1302000#";
var add = "#fEffect/CharacterEff/1112903/0/0#"; //红桃心
var aaa = "#fUI/UIWindow.img/Quest/icon9/0#"; //红色右箭头
var zzz = "#fUI/UIWindow.img/Quest/icon8/0#"; //蓝色右箭头
var sss = "#fUI/UIWindow.img/QuestIcon/3/0#"; //选择道具
var 正方箭头 = "#fUI/Basic/BtHide3/mouseOver/0#";
var 感叹号 = "#fUI/UIWindow/Quest/icon0#";
var 美化new = "#fUI/UIWindow/Quest/icon5/1#";
var 红色箭头 = "#fEffect/CharacterEff/1112908/0/1#"; //彩光3
var ttt1 = "#fEffect/CharacterEff/1062114/1/0#"; //爱心
var 蓝色角点 = "#fUI/UIWindow.img/PvP/Scroll/enabled/next2#";
var 正方箭头 = "#fUI/Basic/BtHide3/mouseOver/0#";
var 爱心 = "#fEffect/CharacterEff/1022223/4/0#";
var 粉爱心 = "#fItem/Etc/0427/04270005/Icon8/1#"; //
var 菊花 = "#fUI/PredictHarmony/card/19#"; //卡片效果菊花
var 笑 = "#fUI/GuildBBS/GuildBBS/Emoticon/Basic/0#"; //笑脸
var 金枫叶 = "#fMap/MapHelper/weather/Maple/2#";
var 红枫叶 = "#fMap/MapHelper/weather/Maple/1#";
var 巫女 = "#fMap/MapHelper/weather/witch/0#"; //巫女
var 气球 = "#fMap/MapHelper/weather/balloon/4#"; //气球
var 射箭 = "#fMap/MapHelper/weather/LoveEffect2/4/0#"; //射箭
var 玫瑰 = "#fMap/MapHelper/weather/rose/0#"; //玫瑰花
var 烟花 = "#fMap/MapHelper/weather/squib/squib1/3#"; //烟花
var 黑水晶 = 4021008;
var 蓝色箭头 = "#fUI/UIWindow/Quest/icon2/7#";
var 红色箭头 = "#fUI/UIWindow/Quest/icon6/7#";
var 圆形 = "#fUI/UIWindow/Quest/icon3/6#";
var 美化new = "#fUI/UIWindow/Quest/icon5/1#";
var 感叹号 = "#fUI/UIWindow/Quest/icon0#";
var 正方箭头 = "#fUI/Basic/BtHide3/mouseOver/0#";
var 忠告 = "#k温馨提示：任何非法程序和外挂封号处理.封杀侥幸心理.";
var 彩虹 = "#fItem/Etc/0427/04270001/Icon9/0#";
var 中条猫 = "#fItem/Etc/0427/04270001/Icon9/0#";
var 猫右 = "#fItem/Etc/0427/04270001/Icon9/0#";
var 猫左 = "#fItem/Etc/0427/04270001/Icon9/0#";
var 幸运草 = "#fItem/Etc/0427/04270001/Icon9/0#";
var 香水 = "#fItem/Etc/0427/04270001/Icon9/0#";
var 皇冠 = "#fUI/UIWindow.img/UserInfo/bossPetCrown#";
var 开 = "#fUI/Basic/CheckBox/0#";   //有框框 无√
var 关 = "#fUI/Basic/CheckBox/1#";   //有框框 有√
var 金币图 = "#fUI/UIWindow/QuestIcon/7/0#";
var 圆圈 = "#fUI/UIWindow/Quest/icon3/0#";
var ll;
var mj;
var zl;
var yq;
var hp;
var mp;
var gj;
var mg;
var wf;
var mf;
var mz;
var hb;
var ys;
var ty;
var 强化物品 = 1112422;
var 材料物品 = 1112421;
var 物品数量 = 0;
var 成功率 = 100;
var 最高等级 = 10;
var 属性 = [4, 4, 4, 5, 4, 4, 4, 4, 4, 4];
var 攻魔a = [4, 4, 4, 5, 4, 4, 4, 4, 4, 4];
var 祝福数量 = 0;
var 枫叶数量 = 0;
var 暗影数量 = 0;
var 强化物品ivid = -1;
var 下一阶id = -1;
var 下一等级 = "";
var 等级规划 = [
  "", "等级1", "等级2", "等级3", "等级4", "等级5", "等级6", "等级7", "等级8", "等级9", "等级10", "等级11", "等级12", "等级13", "等级14", "等级15", "等级16", "等级17"
];
var 进阶数据 = {
  "1072055": {
    "进阶id": 1072360,
    "等级1": {
      "攻/魔": 4,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          null,
          0
        ],
        [
          null,
          0
        ],
        [
          0,
          0
        ]
      ],
      "绑定材料": [
        null,
        null,
        null
      ]
    },
    "等级2": {
      "攻/魔": 8,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4033106,
          10
        ],
        [
          4000313,
          31
        ],
        [
          0,
          1577909
        ]
      ],
      "绑定材料": [
        null,
        4500416,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 12,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4033106,
          15
        ],
        [
          4000313,
          32
        ],
        [
          0,
          1577909
        ]
      ],
      "绑定材料": [
        null,
        4500416,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 16,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4033106,
          20
        ],
        [
          4000313,
          31
        ],
        [
          0,
          1577909
        ]
      ],
      "绑定材料": [
        null,
        4500416,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 20,
      "移动速度": 0,
      "材料": [
        [
          4001084,
          3
        ],
        [
          4033106,
          25
        ],
        [
          4000313,
          31
        ],
        [
          0,
          1577909
        ]
      ],
      "绑定材料": [
        4500019,
        4500416,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 25,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4033106,
          30
        ],
        [
          4000313,
          31
        ],
        [
          0,
          1577910
        ]
      ],
      "绑定材料": [
        null,
        4500416,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 29,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4033106,
          35
        ],
        [
          4000313,
          32
        ],
        [
          0,
          1577909
        ]
      ],
      "绑定材料": [
        null,
        4500416,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 33,
      "移动速度": 0,
      "材料": [
        [
          4001084,
          3
        ],
        [
          4033106,
          40
        ],
        [
          4000313,
          31
        ],
        [
          0,
          1577909
        ]
      ],
      "绑定材料": [
        4500019,
        4500416,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 37,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4033106,
          45
        ],
        [
          4000313,
          31
        ],
        [
          0,
          1577909
        ]
      ],
      "绑定材料": [
        null,
        4500416,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 41,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4033106,
          50
        ],
        [
          4000313,
          31
        ],
        [
          0,
          1577909
        ]
      ],
      "绑定材料": [
        null,
        4500416,
        4500033
      ]
    }
  },
  "1072360": {
    "进阶id": 1072697,
    "等级1": {
      "攻/魔": 45,
      "移动速度": 0,
      "材料": [
        [
          4001085,
          6
        ],
        [
          4500402,
          10
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        4500020,
        4500417,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 50,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          15
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 54,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          20
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 59,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          25
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 63,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          30
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 68,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          30
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 72,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          35
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 76,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          40
        ],
        [
          4000313,
          38
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 81,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          45
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 85,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500402,
          50
        ],
        [
          4000313,
          39
        ],
        [
          0,
          2129600
        ]
      ],
      "绑定材料": [
        null,
        4500417,
        4500033
      ]
    }
  },
  "1072697": {
    "进阶id": 0,
    "等级1": {
      "攻/魔": 91,
      "移动速度": 0,
      "材料": [
        [
          4500006,
          8
        ],
        [
          4500403,
          15
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        4500021,
        4500418,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 96,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          20
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 101,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          25
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 106,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          30
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 112,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          35
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 117,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          40
        ],
        [
          4000313,
          52
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 122,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          45
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 127,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          50
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 132,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          55
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 138,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500403,
          60
        ],
        [
          4000313,
          51
        ],
        [
          0,
          2928200
        ]
      ],
      "绑定材料": [
        null,
        4500418,
        4500033
      ]
    }
  },
  "1072534": {
    "进阶id": 1072493,
    "等级1": {
      "攻/魔": 534,
      "移动速度": 1,
      "材料": [
        [
          4500012,
          20
        ],
        [
          4500409,
          40
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968712
        ]
      ],
      "绑定材料": [
        4500027,
        4500424,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 544,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          55
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968713
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 553,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          70
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968712
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 562,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          80
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968712
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 572,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          90
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968712
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 581,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          100
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968713
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 590,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          110
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968712
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 600,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          120
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968712
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 609,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          130
        ],
        [
          4000313,
          172
        ],
        [
          0,
          12968713
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 618,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500409,
          140
        ],
        [
          4000313,
          171
        ],
        [
          0,
          12968712
        ]
      ],
      "绑定材料": [
        null,
        4500424,
        4500033
      ]
    }
  },
  "1072493": {
    "进阶id": 1072737,
    "等级1": {
      "攻/魔": 218,
      "移动速度": 0,
      "材料": [
        [
          4500008,
          12
        ],
        [
          4500405,
          25
        ],
        [
          4000313,
          84
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        4500023,
        4500420,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 225,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          30
        ],
        [
          4000313,
          85
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 232,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          40
        ],
        [
          4000313,
          84
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 239,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          50
        ],
        [
          4000313,
          85
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 246,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          55
        ],
        [
          4000313,
          84
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 252,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          60
        ],
        [
          4000313,
          84
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 259,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          65
        ],
        [
          4000313,
          85
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 266,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          70
        ],
        [
          4000313,
          84
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 273,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          75
        ],
        [
          4000313,
          85
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 280,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500405,
          80
        ],
        [
          4000313,
          84
        ],
        [
          0,
          5314683
        ]
      ],
      "绑定材料": [
        null,
        4500420,
        4500033
      ]
    }
  },
  "1072737": {
    "进阶id": 1072743,
    "等级1": {
      "攻/魔": 288,
      "移动速度": 0,
      "材料": [
        [
          4500009,
          16
        ],
        [
          4500406,
          30
        ],
        [
          4000313,
          118
        ],
        [
          0,
          7794868
        ]
      ],
      "绑定材料": [
        4500024,
        4500421,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 297,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          40
        ],
        [
          4000313,
          118
        ],
        [
          0,
          7794869
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 306,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          50
        ],
        [
          4000313,
          119
        ],
        [
          0,
          7794868
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 314,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          60
        ],
        [
          4000313,
          118
        ],
        [
          0,
          7794869
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 323,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          70
        ],
        [
          4000313,
          118
        ],
        [
          0,
          7794868
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 331,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          80
        ],
        [
          4000313,
          118
        ],
        [
          0,
          7794868
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 340,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          90
        ],
        [
          4000313,
          118
        ],
        [
          0,
          7794869
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 349,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          100
        ],
        [
          4000313,
          119
        ],
        [
          0,
          7794868
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 357,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          110
        ],
        [
          4000313,
          118
        ],
        [
          0,
          7794869
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 366,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500406,
          120
        ],
        [
          4000313,
          118
        ],
        [
          0,
          7794868
        ]
      ],
      "绑定材料": [
        null,
        4500421,
        4500033
      ]
    }
  },
  "1072743": {
    "进阶id": 1073783,
    "等级1": {
      "攻/魔": 374,
      "移动速度": 0,
      "材料": [
        [
          4500010,
          16
        ],
        [
          4500407,
          30
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574355
        ]
      ],
      "绑定材料": [
        4500025,
        4500422,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 382,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          40
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574355
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 390,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          50
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574356
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 398,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          60
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574355
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 407,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          70
        ],
        [
          4000313,
          125
        ],
        [
          0,
          8574355
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 415,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          80
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574355
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 423,
      "移动速度": 0,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          90
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574356
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 431,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          100
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574355
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 439,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          110
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574355
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 447,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500407,
          120
        ],
        [
          4000313,
          124
        ],
        [
          0,
          8574355
        ]
      ],
      "绑定材料": [
        null,
        4500422,
        4500033
      ]
    }
  },
  "1073783": {
    "进阶id": 1072534,
    "等级1": {
      "攻/魔": 455,
      "移动速度": 1,
      "材料": [
        [
          4500011,
          16
        ],
        [
          4500408,
          30
        ],
        [
          4000313,
          130
        ],
        [
          0,
          9431791
        ]
      ],
      "绑定材料": [
        4500026,
        4500423,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 463,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          40
        ],
        [
          4000313,
          131
        ],
        [
          0,
          9431791
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 470,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          50
        ],
        [
          4000313,
          130
        ],
        [
          0,
          9431791
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 478,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          60
        ],
        [
          4000313,
          130
        ],
        [
          0,
          9431790
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 486,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          70
        ],
        [
          4000313,
          131
        ],
        [
          0,
          9431791
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 494,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          80
        ],
        [
          4000313,
          130
        ],
        [
          0,
          9431791
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 502,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          90
        ],
        [
          4000313,
          130
        ],
        [
          0,
          9431791
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 509,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          100
        ],
        [
          4000313,
          131
        ],
        [
          0,
          9431790
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 517,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          110
        ],
        [
          4000313,
          130
        ],
        [
          0,
          9431791
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 525,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500408,
          120
        ],
        [
          4000313,
          130
        ],
        [
          0,
          9431791
        ]
      ],
      "绑定材料": [
        null,
        4500423,
        4500033
      ]
    }
  },
  "1072474": {
    "进阶id": 1072485,
    "等级1": {
      "攻/魔": 627,
      "移动速度": 1,
      "材料": [
        [
          4500013,
          20
        ],
        [
          4500410,
          40
        ],
        [
          4000313,
          179
        ],
        [
          0,
          14265583
        ]
      ],
      "绑定材料": [
        4500028,
        4500425,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 636,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          55
        ],
        [
          4000313,
          180
        ],
        [
          0,
          14265584
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 645,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          70
        ],
        [
          4000313,
          179
        ],
        [
          0,
          14265584
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 654,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          80
        ],
        [
          4000313,
          180
        ],
        [
          0,
          14265583
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 663,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          90
        ],
        [
          4000313,
          179
        ],
        [
          0,
          14265584
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 672,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          100
        ],
        [
          4000313,
          180
        ],
        [
          0,
          14265583
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 681,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          110
        ],
        [
          4000313,
          180
        ],
        [
          0,
          14265584
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 690,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          120
        ],
        [
          4000313,
          179
        ],
        [
          0,
          14265583
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 699,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          130
        ],
        [
          4000313,
          180
        ],
        [
          0,
          14265584
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 709,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500410,
          140
        ],
        [
          4000313,
          179
        ],
        [
          0,
          14265583
        ]
      ],
      "绑定材料": [
        null,
        4500425,
        4500033
      ]
    }
  },
  "1072485": {
    "进阶id": 1072967,
    "等级1": {
      "攻/魔": 717,
      "移动速度": 1,
      "材料": [
        [
          4500014,
          20
        ],
        [
          4500411,
          40
        ],
        [
          4000313,
          189
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        4500029,
        4500426,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 726,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          55
        ],
        [
          4000313,
          189
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 735,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          70
        ],
        [
          4000313,
          188
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 744,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          80
        ],
        [
          4000313,
          189
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 752,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          90
        ],
        [
          4000313,
          188
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 761,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          100
        ],
        [
          4000313,
          189
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 770,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          110
        ],
        [
          4000313,
          188
        ],
        [
          0,
          15692141
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 779,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          120
        ],
        [
          4000313,
          189
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 788,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          130
        ],
        [
          4000313,
          188
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 796,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500411,
          140
        ],
        [
          4000313,
          189
        ],
        [
          0,
          15692142
        ]
      ],
      "绑定材料": [
        null,
        4500426,
        4500033
      ]
    }
  },
  "1072967": {
    "进阶id": 1073158,
    "等级1": {
      "攻/魔": 807,
      "移动速度": 1,
      "材料": [
        [
          4500015,
          24
        ],
        [
          4500412,
          50
        ],
        [
          4000313,
          238
        ],
        [
          0,
          20713627
        ]
      ],
      "绑定材料": [
        4500030,
        4500427,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 817,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          65
        ],
        [
          4000313,
          237
        ],
        [
          0,
          20713628
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 827,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          80
        ],
        [
          4000313,
          238
        ],
        [
          0,
          20713627
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 837,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          95
        ],
        [
          4000313,
          237
        ],
        [
          0,
          20713627
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 848,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          110
        ],
        [
          4000313,
          238
        ],
        [
          0,
          20713628
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 858,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          125
        ],
        [
          4000313,
          238
        ],
        [
          0,
          20713627
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 868,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          135
        ],
        [
          4000313,
          237
        ],
        [
          0,
          20713627
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 879,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          145
        ],
        [
          4000313,
          238
        ],
        [
          0,
          20713627
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 889,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          155
        ],
        [
          4000313,
          237
        ],
        [
          0,
          20713628
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 899,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500412,
          165
        ],
        [
          4000313,
          238
        ],
        [
          0,
          20713627
        ]
      ],
      "绑定材料": [
        null,
        4500427,
        4500033
      ]
    }
  },
  "1073158": {
    "进阶id": 0,
    "等级1": {
      "攻/魔": 909,
      "移动速度": 1,
      "材料": [
        [
          4500016,
          24
        ],
        [
          4500413,
          50
        ],
        [
          4000313,
          249
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        4500031,
        4500428,
        4500033
      ]
    },
    "等级2": {
      "攻/魔": 919,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          65
        ],
        [
          4000313,
          250
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    },
    "等级3": {
      "攻/魔": 929,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          80
        ],
        [
          4000313,
          249
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    },
    "等级4": {
      "攻/魔": 939,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          95
        ],
        [
          4000313,
          250
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    },
    "等级5": {
      "攻/魔": 950,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          110
        ],
        [
          4000313,
          249
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    },
    "等级6": {
      "攻/魔": 960,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          125
        ],
        [
          4000313,
          250
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    },
    "等级7": {
      "攻/魔": 970,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          135
        ],
        [
          4000313,
          249
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    },
    "等级8": {
      "攻/魔": 980,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          145
        ],
        [
          4000313,
          250
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    },
    "等级9": {
      "攻/魔": 990,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          155
        ],
        [
          4000313,
          249
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    },
    "等级10": {
      "攻/魔": 1000,
      "移动速度": 1,
      "材料": [
        [
          null,
          0
        ],
        [
          4500413,
          165
        ],
        [
          4000313,
          250
        ],
        [
          0,
          22784990
        ]
      ],
      "绑定材料": [
        null,
        4500428,
        4500033
      ]
    }
  }
}
var sels;
var status = -1;
var 当前星级 = -1;
var 小黄星 = "#fItem/Etc/0427/04270001/Icon9/0#";

function start() {
  action(1, 0, 0);
}

function action(mode, type, selection) {

  if (cm.getInventory(1).getItem(1) == null) {
    cm.sendOk("装备栏第一格没有装备");
    cm.dispose();
    return;
  }
  强化物品 = cm.getInventory(1).getItem(1).getItemId();
  if (!进阶数据[强化物品]) {
    cm.sendOk("请把要强化放在装备栏第一格");
    cm.dispose();
    return;
  }
  var itemaa = cm.getInventory(1).getItem(1).copy();
  强化物品ivid = itemaa.getInventoryId();
  当前星级 = parseInt((等级规划.indexOf("" + itemaa.getOwner() + "")));
  if (itemaa.getOwner() == null || itemaa.getOwner() == "") {
    当前星级 = 1;
  }

  if (当前星级 <= -1) {
    cm.sendOk("未知错误00001，请联系管理员。");
    cm.dispose();
    return;

  }
  下一阶id = 强化物品;
  下一等级 = 等级规划[当前星级 + 1];
  if (当前星级 >= 最高等级) {
    下一阶id = 进阶数据[强化物品]["进阶id"];
    下一等级 = "等级1";
  }
  if (!下一等级 || !进阶数据[下一阶id][下一等级]) {
    cm.sendOk("该装备已到达上限，无法进阶。");
    cm.dispose();
    return;
  }
  if (mode == 1) {
    status++;
  } else if (mode == 0) {
    status--;
  } else {
    cm.dispose();
    return;
  }
  if (status == 0) {

    var text = "";
    text += "#k┏━━" + 小黄星 + "━━━┫ 欢迎来到冒险岛 ┣━━━" + 小黄星 + "━━┓#k\r\n\r\n";
    text += "  " + 感叹号 + "[#v" + 强化物品 + "#][#t" + 强化物品 + "#]#b(最多Lv" + 最高等级 + ")#k#n\r\n";
    text += "  " + 感叹号 + "当前强化是 #b#e" + 等级规划[当前星级] + "#k#n 强化至 #b#e" + (下一阶id != 强化物品 ? "进阶" : 下一等级) + "#k#n\r\n";
    text += "  " + 感叹号 + "强化后属性：";
    text += 进阶数据[下一阶id][下一等级]["hpmp"] ? "[#rhpmp+" + 进阶数据[下一阶id][下一等级]["hpmp"] + "]" : "";
    text += 进阶数据[下一阶id][下一等级]["四维"] ? "[#r四维+" + 进阶数据[下一阶id][下一等级]["四维"] + "]" : "";
    text += 进阶数据[下一阶id][下一等级]["双攻"] ? "[#r攻魔+" + 进阶数据[下一阶id][下一等级]["双攻"] + "]" : "";
    text += 进阶数据[下一阶id][下一等级]["双防"] ? "[#r双防+" + 进阶数据[下一阶id][下一等级]["双防"] + "]" : "";
    text += 进阶数据[下一阶id][下一等级]["速度"] ? "[#r速度+" + 进阶数据[下一阶id][下一等级]["速度"] + "]" : "";
    text += 进阶数据[下一阶id][下一等级]["跳跃"] ? "[#r跳跃+" + 进阶数据[下一阶id][下一等级]["跳跃"] + "]" : "";
    text += 进阶数据[下一阶id][下一等级]["命中"] ? "[#r命中+" + 进阶数据[下一阶id][下一等级]["命中"] + "]" : "";
    text += 进阶数据[下一阶id][下一等级]["回避"] ? "[#r回避+" + 进阶数据[下一阶id][下一等级]["回避"] + "]" : "";


    text += "#b#k\r\n";
    text += "  " + 感叹号 + "进行强化的放到 [装备栏] 第#r#e1#k#n格#b#k\r\n";
    text += "  " + 感叹号 + "进行强化需要以下材料：#k\r\n";
    text += "  #b#e----------------------------------------#n#k\r\n";
    // cm.sendOk(强化物品 + "," + 当前星级);
    // cm.dispose();
    // return;

    var 进阶需要材料 = 进阶数据[下一阶id][下一等级]["材料"];
    var 进阶需要绑定材料 = 进阶数据[下一阶id][下一等级]["绑定材料"];
    var 材料齐全 = true;
    for (var i = 0; i < 进阶需要材料.length; i++) {//判定材料扣除材料
      var 背包绑定物品数量 = 0;
      var 需要物品数量 = 进阶需要材料[i][1];
      var 需要物品id = 进阶需要材料[i][0];
      var 绑定物品id = -1;
      if (进阶需要绑定材料[i]) {
        绑定物品id = 进阶需要绑定材料[i];
        背包绑定物品数量 = cm.itemQuantity(绑定物品id);
      }
      var 背包非绑定物品数量 = cm.itemQuantity(需要物品id);
      if (需要物品id > 0) {
        if (背包绑定物品数量 + 背包非绑定物品数量 < 需要物品数量) {
          材料齐全 = false;
          cm.setBossLog("需要物品id", 需要物品id, true);
        }
        text += "   " + 圆形 + "需要#v" + 需要物品id + "# #k[#r " + 需要物品数量 + " #k/ " + (背包绑定物品数量 + 背包非绑定物品数量) + " ] " + ((背包绑定物品数量 + 背包非绑定物品数量) >= 需要物品数量 ? "" + 关 + "#g#e满足#k#n" : "" + 开 + "#r#e不足#k#n") + "#d优先扣除绑定材料#k#n\r\n"
      } else if (需要物品id == 0) {
        if (cm.getPlayer().getMeso() < 需要物品数量) {
          材料齐全 = false;
        }
        text += "   " + 圆形 + "需要#v2140002# #k[#r " + 需要物品数量 + " #k/ " + cm.getPlayer().getMeso() + " ] " + (cm.getPlayer().getMeso() >= 需要物品数量 ? "" + 关 + "#g#e满足#k#n" : "" + 开 + "#r#e不足#k#n") + "#d优先扣除绑定材料#k#n\r\n"
      }
    }
    text += "  #b#e----------------------------------------#n#k\r\n"
    if (材料齐全) {
      text += "  #L1#" + zzz + "#b开始强化#l";
    } else {
      text += "      #L2#" + aaa + "#r获取所需材料#l#n#k\r\n"
    }
    //text += "  #L1#" + zzz + "#b开始强化#l      #L2#" + aaa + "#r获取所需材料#l#n#k\r\n"
    cm.sendSimple(text);
  } else if (status == 1) {
    sels = selection;
    if (selection == 1) {
      cm.sendSimple("#b是否要强化#r#r #i" + 强化物品 + "#? \r\n");
    } else if (selection == 2) {
      if (sels == 2) {
        var 需要物品id = cm.getBossLog("需要物品id");
        // cm.sendSimple(需要物品id);
        if (需要物品id == 4500033 || 需要物品id == 4000313) {
          cm.dispose();
          cm.openNpc(9130000, "黄金枫叶礼包");
          return;
        }
        if (需要物品id == 4001084 ||
          需要物品id == 4001085 ||
          需要物品id == 4500006 ||
          需要物品id == 4500007 ||
          需要物品id == 4500008 ||
          需要物品id == 4500009 ||
          需要物品id == 4500010 ||
          需要物品id == 4500011 ||
          需要物品id == 4500012 ||
          需要物品id == 4500013 ||
          需要物品id == 4500014 ||
          需要物品id == 4500015 ||
          需要物品id == 4500016) {
          cm.dispose();
          cm.openNpc(9130000, "BOSS材料礼包");
        }
        if (需要物品id == 4033106||
          需要物品id == 4500402 ||
          需要物品id == 4500403 ||
          需要物品id == 4500404 ||
          需要物品id == 4500405 ||
          需要物品id == 4500406 ||
          需要物品id == 4500407 ||
          需要物品id == 4500408 ||
          需要物品id == 4500409 ||
          需要物品id == 4500410 ||
          需要物品id == 4500411 ||
          需要物品id == 4500412 ||
          需要物品id == 4500413) {
          cm.dispose();
          cm.openNpc(9130000, "鞋子材料礼包");
          return;
        }
      }



    }
  } else if (status == 2) {
    if (当前星级 >= 最高等级) {
      var itemab = cm.getInventory(1).getItem(1).copy();
      if (itemab.getMatk() != 16 || !下一阶id || 进阶数据[下一阶id]) {
        cm.sendOk("此装备无法进阶");
        cm.dispose();
        return;
      }
      if (!deleteitem(下一阶id, 下一等级)) {
        cm.sendOk("材料不足");
        cm.dispose();
        return;
      }
      if (!cm.removeFromSlot(1, 1, 1, 强化物品ivid)) {
        cm.sendOk("进阶异常，请重试！！");
        cm.dispose();
        return;
      }
      var equip = cm.getEquip(下一阶id);
      // equip.setStr(进阶数据[下一阶id][下一等级]["四维"]);
      // equip.setDex(进阶数据[下一阶id][下一等级]["四维"]);
      // equip.setInt(进阶数据[下一阶id][下一等级]["四维"]);
      // equip.setLuk(进阶数据[下一阶id][下一等级]["四维"]);
      // equip.setHp(进阶数据[下一阶id][下一等级]["hpmp"]);
      // equip.setMp(进阶数据[下一阶id][下一等级]["hpmp"]);
      // equip.setWatk(进阶数据[下一阶id][下一等级]["双攻"]);
      // equip.setMatk(进阶数据[下一阶id][下一等级]["双攻"]);
      equip.setWdef(进阶数据[下一阶id][下一等级]["双防"]);
      equip.setMdef(进阶数据[下一阶id][下一等级]["双防"]);
      // equip.setAvoid(进阶数据[下一阶id][下一等级]["回避"]);
      // equip.setAcc(进阶数据[下一阶id][下一等级]["命中"]);
      // equip.setJump(进阶数据[下一阶id][下一等级]["跳跃"]);
      equip.setSpeed(进阶数据[下一阶id][下一等级]["速度"]);
      equip.setOwner(下一等级);
      cm.addFromDrop(equip, true);
      cm.dispose();
      return;

    } else {
      if (!deleteitem(下一阶id, 下一等级)) {
        cm.sendOk("材料不足");
        cm.dispose();
        return;
      }
      if (cm.随机数(100) <= 成功率) {
        var statup = new java.util.ArrayList();
        var item = cm.getInventory(1).getItem(1).copy();
        // item.setStr(进阶数据[下一阶id][下一等级]["四维"]);
        // item.setDex(进阶数据[下一阶id][下一等级]["四维"]);
        // item.setInt(进阶数据[下一阶id][下一等级]["四维"]);
        // item.setLuk(进阶数据[下一阶id][下一等级]["四维"]);
        // item.setHp(进阶数据[下一阶id][下一等级]["hpmp"]);
        // item.setMp(进阶数据[下一阶id][下一等级]["hpmp"]);
        // item.setWatk(进阶数据[下一阶id][下一等级]["双攻"]);
        // item.setMatk(进阶数据[下一阶id][下一等级]["双攻"]);
        item.setWdef(进阶数据[下一阶id][下一等级]["双防"]);
        item.setMdef(进阶数据[下一阶id][下一等级]["双防"]);
        // item.setAvoid(进阶数据[下一阶id][下一等级]["回避"]);
        // item.setAcc(进阶数据[下一阶id][下一等级]["命中"]);
        // item.setJump(进阶数据[下一阶id][下一等级]["跳跃"]);
        item.setSpeed(进阶数据[下一阶id][下一等级]["速度"]);
        item.setOwner(下一等级);
        Packages.server.MapleInventoryManipulator.removeFromSlot(cm.getC(), Packages.client.inventory.MapleInventoryType.EQUIP, 1, 1, false);
        Packages.server.MapleInventoryManipulator.addFromDrop(cm.getC(), item, false);
        //cm.itemlaba("『戒指强化』", "玩家 [" + cm.getPlayer().getName() + "] 强化 "+等级规划[(当前星级+1)]+"成功", item, 15);
        cm.sendNext("强化成功");
        status = -1;

      } else {
        cm.sendNext("强化失败");
        status = -1;
      }
    }

  } else {
    //cm.sendNext("#r发生错误: mode : " + mode + " status : " + status);
    cm.dispose();
  }
}

function deleteitem(新物品id, 新等级) {
  var 进阶需要材料 = 进阶数据[新物品id][新等级]["材料"];
  var 进阶需要绑定材料 = 进阶数据[新物品id][新等级]["绑定材料"];
  for (var i = 0; i < 进阶需要材料.length; i++) {//判定材料扣除材料
    var 背包绑定物品数量 = 0;
    var 需要物品数量 = 进阶需要材料[i][1];
    var 需要物品id = 进阶需要材料[i][0];
    var 绑定物品id = -1;
    if (进阶需要绑定材料[i]) {
      绑定物品id = 进阶需要绑定材料[i];
      背包绑定物品数量 = cm.itemQuantity(绑定物品id);
    }
    var 背包非绑定物品数量 = cm.itemQuantity(需要物品id);
    if (需要物品id > 0) {
      if (背包绑定物品数量 + 背包非绑定物品数量 < 需要物品数量) {
        return false;
      } else {
        if (背包绑定物品数量 >= 需要物品数量) {
          cm.gainItem(绑定物品id, -需要物品数量);
        } else {
          cm.gainItem(绑定物品id, -背包绑定物品数量);
          cm.gainItem(需要物品id, 背包绑定物品数量 - 需要物品数量);
        }
      }


    } else if (需要物品id == 0) {
      if (cm.getPlayer().getMeso() < 需要物品数量) {
        return false;
      }
      cm.gainMeso(-需要物品数量);

    }


  }
  return true;
}
